import matplotlib.pyplot as plt

# Constants
g = 9.81  # gravity (m/s^2)
rho = 1.225  # air density (kg/m^3)
Cd = 0.5  # drag coefficient (approximate)
A = 0.5  # cross-sectional area (m^2)
initial_mass = 50000  # kg
fuel_mass = 30000  # kg
burn_time = 120  # seconds
thrust = 1_000_000  # N

# Time parameters
dt = 0.1
t = np.arange(0, 200, dt)

# Arrays to store simulation results
altitude = np.zeros_like(t)
velocity = np.zeros_like(t)
acceleration = np.zeros_like(t)
mass = np.zeros_like(t)

current_mass = initial_mass
mass_flow_rate = fuel_mass / burn_time

# Simulation loop
for i in range(1, len(t)):
    if t[i] <= burn_time:
        fuel_burned = mass_flow_rate * dt
        current_mass -= fuel_burned
        current_thrust = thrust
    else:
        current_thrust = 0

    v = velocity[i-1]
    drag = 0.5 * rho * v**2 * Cd * A * np.sign(v)
    weight = current_mass * g
    net_force = current_thrust - drag - weight
    acc = net_force / current_mass

    acceleration[i] = acc
    velocity[i] = velocity[i-1] + acc * dt
    altitude[i] = altitude[i-1] + velocity[i-1] * dt
    mass[i] = current_mass

# Plotting
plt.figure(figsize=(10, 6))
plt.plot(t, altitude, label="Altitude (m)")
plt.plot(t, velocity, label="Velocity (m/s)")
plt.plot(t, acceleration, label="Acceleration (m/sÂ²)")
plt.xlabel("Time (s)")
plt.ylabel("Value")
plt.title("Rocket Liftoff Simulation (Vertical Ascent)")
plt.legend()
plt.grid(True)
plt.show()
